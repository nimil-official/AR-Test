<!DOCTYPE HTML>
<html>
  <script type = "module" src = "https://unpkg.com/@google/model-viewer@3.5.0/dist/model-viewer.min.js"></script>
  <style>
    /* model-viewer{
      width: 800px;
      height: 400px;
    } */
  </style>

  <style>
    .hidden {
      visibility: hidden;
    }
  </style>
  <body style = "margin : 0px; overflow: hidden;">
    <model-viewer
      
      id = "pool-table"
      src = "./public/Pool table1.glb"

      minimumRenderScale = 1
      ar
      ar-scale = fixed
    >
    <script type = "module">
      const modelViewerTransform = document.querySelector("model-viewer#pool-table");
      const modelViewer = document.querySelector("model-viewer")
      modelViewer.minimumRenderScale = 1
      console.log("model viewer is ", modelViewerTransform)
      modelViewerTransform.addEventListener('load', () => {
        // const names = modelViewerTransform.availableVariants;
        // console.log("names are ", names)
        // const ball = modelViewerTransform.model.getMaterialByName('light_mat')
        // ball.setAlphaMode("MASK")
        // ball.setAlphaCutoff(0.01);

        // console.log("ball", ball)
        // const pbr = ball.pbrMetallicRoughness;
        // const baseColor = pbr.baseColorFactor;
        // baseColor[3] = 0;
        // ball.pbrMetallicRoughness.setBaseColorFactor(baseColor);
        // console.log("ball", ball.pbrMetallicRoughness.baseColorFactor[3])

        // const table = modelViewerTransform.model.getMaterialByName("material")
        // table.pbrMetallicRoughness.setBaseColorFactor("#ff00ff")
        // Adds a default option

        let scene = modelViewerTransform[
          Object.getOwnPropertySymbols(modelViewerTransform).find(
          (x) => x.description === "scene"
          )
        ];
        //const object = scene.getObjectByName("")
        // //let object = scene.getObjectByName("pooltable_low_pool_table_mat_0")
        // let object = scene.getObjectByName("ceiling_light_low_light_mat_0")
        // console.log("object is ", object)
        // object.visible = false
        // object.visible ? object.scale.set(1, 1, 1) : object.scale.set(0, 0, 0);
      });

    </script>
    </model-viewer>

    
  </body>
</html>

